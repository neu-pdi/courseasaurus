# Courseasaurus Project Rules for AI Agents

## Project Overview

**Courseasaurus** is a modern CourseOps platform built on Docusaurus that helps instructors manage course content using Git-based workflows and AI-assisted development. It's a meta project: it teaches instructors how to effectively use AI tools while itself being developed with AI assistance.

### Core Philosophy

This project embodies thoughtful AI usage principles:
- Only ask AI to produce what you can effectively review for accuracy
- Use AI to enhance expertise, not substitute for it
- Maintain skills through regular manual practice
- Make conscious ethical decisions about AI usage
- Each person decides their own boundaries for AI assistance

**When working on this project, model these principles in your suggestions and changes.**

## Tech Stack

- **Framework**: Docusaurus 3.9+ (React-based static site generator)
- **Language**: TypeScript 5.6+
- **Node**: 18.0+ (recommend Node 22+)
- **UI Library**: Chakra UI 3.9+
- **Presentation**: RevealJS 5.2+ (integrated for slides)
- **Markdown**: MDX 3.0+ with math support (KaTeX)
- **Diagrams**: Mermaid
- **Timeline**: react-chrono

## Project Structure

```
courseasaurus/
├── instructor-manual/          # Multi-collection instructor documentation
│   ├── foundations/            # Setup, GitOps, AI philosophy
│   ├── site-management/        # Managing the Docusaurus site
│   ├── content-development/    # Creating course materials
│   └── operations/             # Course operations planning
├── lecture-notes/              # Main docs collection (course lecture notes)
├── lecture-slides/             # RevealJS-based presentations (.mdx)
├── labs/                       # Lab assignments
├── assignments/                # Homework assignments
├── docs/                       # Additional docs collection
├── plugins/
│   ├── courseasaurus/          # Custom plugin for schedule, config validation
│   └── chakra-theme-sync/      # Theme synchronization
├── src/
│   ├── components/             # React components
│   │   ├── RevealJS/           # RevealJS integration
│   │   ├── SchedulePage/       # Course schedule display
│   │   ├── CoursePage/         # Course info page
│   │   └── ui/                 # UI utilities (color mode, etc.)
│   ├── pages/                  # Static pages (index, syllabus, overview)
│   ├── css/                    # Global styles
│   └── theme/                  # Docusaurus theme customization
├── static/                     # Static assets (images, CSS)
├── course.config.json          # Course metadata and schedule
├── sidebars.ts                 # Sidebar configuration
└── docusaurus.config.ts        # Main Docusaurus configuration
```

## Content Organization

### Document Collections

The site uses **multiple Docusaurus docs plugins** for different content types:

1. **lecture-notes** - Default docs collection (course notes)
2. **instructor-manual** - Comprehensive instructor guide (meta-documentation)
3. **labs** - Lab assignments
4. **assignments** - Homework assignments  
5. **lecture-slides** - RevealJS presentations

Each collection has its own:
- Route base path (e.g., `/instructor-manual`, `/labs`)
- Sidebar ID (e.g., `instructorManualSidebar`, `labsSidebar`)
- Directory in the project root

### Sidebar Configuration

All sidebars in `sidebars.ts` use **autogeneration**:

```typescript
instructorManualSidebar: [{type: 'autogenerated', dirName: '.'}]
```

**Do not manually define sidebar items.** Instead:
- Use `sidebar_position` in frontmatter to control order
- Use `_category_.json` files in directories to define category metadata:

```json
{
  "label": "Foundations & Setup",
  "position": 1,
  "collapsed": false,
  "collapsible": true
}
```

### Markdown Frontmatter

All markdown files should have frontmatter:

```yaml
---
sidebar_position: 1
title: Optional Title Override
---
```

For slides (`.mdx` in `lecture-slides/`), include presentation metadata:

```yaml
---
sidebar_position: 2
title: Lecture Title
description: Brief description
---
```

### Learning Outcomes

Educational content should start with learning outcomes:

```markdown
## Learning Outcomes

By the end of this [lecture/guide/lab], you will be able to:

- Verb + specific outcome
- Verb + specific outcome
- Verb + specific outcome
```

Use action verbs: articulate, apply, identify, develop, implement, analyze, create, etc.

## Courseasaurus Plugin

The custom plugin (`plugins/courseasaurus/`) provides:

1. **Schedule Generation** - Reads `course.config.json` and generates course schedule
2. **Config Validation** - Validates course configuration schema
3. **Learning Objectives Extraction** - Parses markdown files for learning outcomes
4. **Course Metadata Management** - Makes course info available to components

### Course Config Structure

`course.config.json` defines:
- Course code, title, semester
- Start/end dates, timezone
- Sections with meeting times
- Holidays and breaks
- Lecture schedule with topics and readings
- Assignments with release/due dates
- Office hours

**When modifying schedules**, use the Courseasaurus plugin capabilities to simulate impacts.

## Development Guidelines

### Running the Project

```bash
npm install          # Install dependencies
npm start            # Start dev server (http://localhost:3000)
npm run build        # Build for production
npm run serve        # Serve production build locally
npm run typecheck    # Run TypeScript type checking
```

### Making Changes

1. **Content Changes** (markdown in collections)
   - Edit directly in the appropriate collection directory
   - Use proper frontmatter
   - Preview with `npm start`
   - Check for broken links

2. **Component Changes** (React/TypeScript in `src/`)
   - Follow TypeScript best practices
   - Use Chakra UI components for UI
   - Test in both light and dark modes
   - Run `npm run typecheck` before committing

3. **Plugin Changes** (`plugins/courseasaurus/`)
   - Update types in `types.ts`
   - Update validation in `config-validator.ts`
   - Test with various course configurations
   - Document changes in plugin README

4. **Configuration Changes**
   - `docusaurus.config.ts` - Site configuration, navbar, footer
   - `course.config.json` - Course-specific metadata
   - `sidebars.ts` - Keep autogenerated, don't manually define items

### Adding New Content Collections

To add a new document collection:

1. Create directory in project root (e.g., `projects/`)
2. Add plugin configuration to `docusaurus.config.ts`:

```typescript
[
  '@docusaurus/plugin-content-docs',
  {
    id: 'projects',
    path: 'projects',
    routeBasePath: 'projects',
    editUrl: 'https://github.com/neu-pdi/courseasaurus/edit/main/',
    sidebarPath: './sidebars.ts',
    remarkPlugins: [remarkMath],
    rehypePlugins: [rehypeKatex],
  },
]
```

3. Add sidebar to `sidebars.ts`:

```typescript
projectsSidebar: [{type: 'autogenerated', dirName: '.'}]
```

4. Add navbar item to `docusaurus.config.ts`:

```typescript
{
  type: 'docSidebar',
  sidebarId: 'projectsSidebar',
  docsPluginId: 'projects',
  position: 'left',
  label: 'Projects',
}
```

### RevealJS Slides

Slides use `.mdx` format in `lecture-slides/`:

```mdx
---
sidebar_position: 1
title: Introduction
---

import Slide from '@site/src/components/RevealJS';

<Slide>

# Slide Title

Content goes here

---

## Next Slide

More content

---

## Another Slide

- Bullet points
- Work great

</Slide>
```

The `RevealJS` component handles the presentation rendering.

## AI-Assisted Development Guidelines

### When to Use AI

**✅ Good uses:**
- Expanding brief notes into full explanations
- Converting formats (bullets → paragraphs, notes → slides)
- Generating additional examples after creating the first few
- Finding typos and grammar issues
- Writing boilerplate code
- Brainstorming content ideas

**⚠️ Use cautiously:**
- Writing assignment problems (create core ideas first)
- Explaining complex concepts (verify carefully)
- Making architectural decisions

**❌ Avoid:**
- Making final pedagogical decisions without review
- Creating content you can't thoroughly review
- Wholesale generation of large content sections

### AI Usage Pattern

Follow the **Scope-Review-Iterate** approach:

1. **Specify Clearly** - Provide concrete goals, constraints, context
2. **Review Thoroughly** - Verify correctness, assess quality
3. **Iterate** - Refine scope if needed, break into smaller steps

**Example good prompt:**

> "In the instructor-manual/foundations/installation.md file, expand the section on Node.js installation with specific steps for macOS using nvm. Include: installation command, version verification, and common troubleshooting. Target audience: instructors with basic terminal experience."

**Example poor prompt:**

> "Write all the installation docs"

### Maintaining Quality

When generating or editing content:

- **Always review for accuracy** - You must understand and vouch for all content
- **Preserve learning progressions** - Ensure content builds properly on prerequisites  
- **Maintain consistent voice** - Match the existing documentation style
- **Include examples** - Concrete examples aid understanding
- **Add context** - Explain why, not just what
- **Use proper citations** - Credit sources appropriately

## Code Style

### TypeScript

- Use strict TypeScript mode
- Define interfaces for component props
- Use type inference where clear
- Avoid `any` types

```typescript
interface SchedulePageProps {
  courseConfig: CourseConfig;
  currentDate: Date;
}

export const SchedulePage: React.FC<SchedulePageProps> = ({ courseConfig, currentDate }) => {
  // Implementation
};
```

### React Components

- Use functional components with hooks
- Keep components focused and single-purpose
- Extract reusable logic into custom hooks
- Use Chakra UI components for styling

```typescript
import { Box, Heading, Text } from '@chakra-ui/react';

export const LessonCard: React.FC<{ title: string; description: string }> = ({ 
  title, 
  description 
}) => (
  <Box p={4} borderWidth="1px" borderRadius="lg">
    <Heading size="md">{title}</Heading>
    <Text mt={2}>{description}</Text>
  </Box>
);
```

### Markdown Style

- Use ATX-style headers (`#`, `##`, `###`)
- One sentence per line for easier diffs
- Use fenced code blocks with language tags
- Include alt text for images
- Use relative links for internal references

## Testing and Validation

Before considering changes complete:

1. **Build succeeds** - Run `npm run build` without errors
2. **Type check passes** - Run `npm run typecheck`
3. **No broken links** - Docusaurus flags broken markdown links
4. **Visual inspection** - Check both light and dark modes
5. **Responsive design** - Test on different screen sizes
6. **Content accuracy** - Verify technical content is correct

## Common Tasks

### Adding a new lecture

1. Create markdown file in `lecture-notes/` (e.g., `l5-algorithms.md`)
2. Add frontmatter with `sidebar_position`
3. Include learning outcomes
4. Update `course.config.json` lecture schedule if needed
5. Create corresponding slides in `lecture-slides/` if needed

### Adding a new assignment

1. Create markdown file in `assignments/` (e.g., `hw3-sorting.md`)
2. Add frontmatter with `sidebar_position`
3. Update `course.config.json` with release/due dates
4. Include clear objectives and requirements
5. Provide starter code or resources if needed

### Modifying the schedule

1. Edit `course.config.json`
2. Update dates, topics, or readings
3. Plugin automatically regenerates schedule page
4. Verify no conflicts with holidays/breaks
5. Check that assignment dates align with lecture topics

### Adding instructor manual content

1. Determine appropriate directory (`foundations/`, `site-management/`, etc.)
2. Create markdown file with descriptive name
3. Add frontmatter with `sidebar_position`
4. Include learning outcomes for major guides
5. Use examples and concrete scenarios
6. Cross-reference related sections

## Meta: AI Philosophy for This Project

This project teaches instructors to use AI thoughtfully. **When working on this project, embody these principles:**

### Transparency

- Disclose AI involvement in significant content generation
- Model responsible AI usage in commit messages and PRs
- Document AI-assisted processes in instructor manual

### Quality Over Quantity

- Prefer thoughtful, well-reviewed AI-assisted content over bulk generation
- Ensure all content is accurate and pedagogically sound
- Maintain human judgment for all important decisions

### Ethical Considerations

Remember the 10 ethical considerations from the AI philosophy:

1. Transparency and Authenticity
2. Competence and Responsibility
3. Student Impact
4. Fairness and Equity
5. Professional Integrity
6. Skill Maintenance
7. Institutional Policy
8. Long-term Consequences
9. Attribution and Credit
10. Boundary Cases and Slippery Slopes

### Example Meta-Documentation

When documenting how something was created:

```markdown
## Meta-Example: Creating This Documentation

**What we did:**
1. **Conceptualized the project**: Defined scope and goals
2. **Collaborative structure**: Worked with AI to draft high-level outcomes
3. **AI drafting**: Used AI to expand outlines into full prose
4. **Human review**: Carefully reviewed every section for accuracy
5. **Iterative refinement**: Refined unclear sections, added examples
6. **Human judgment**: Made all decisions about organization, emphasis
```

## Common Pitfalls to Avoid

1. **Don't manually define sidebar items** - Use autogeneration with `sidebar_position`
2. **Don't forget frontmatter** - All markdown files need it
3. **Don't create orphaned content** - Ensure files are in the right collection
4. **Don't skip learning outcomes** - Educational content should include them
5. **Don't ignore TypeScript errors** - Run `npm run typecheck`
6. **Don't break the build** - Always verify `npm run build` succeeds
7. **Don't forget dark mode** - Test both color schemes
8. **Don't skip the AI philosophy** - This project models responsible AI use

## Getting Help

- **Docusaurus docs**: https://docusaurus.io/docs
- **Chakra UI docs**: https://chakra-ui.com/docs
- **RevealJS docs**: https://revealjs.com/
- **Project README**: See `README.md` for quickstart
- **Plugin docs**: See `plugins/courseasaurus/README.md`
- **Instructor manual**: See `instructor-manual/foundations/overview.md`

## Summary: Key Principles for AI Agents

1. **Understand the structure** - Multiple doc collections, autogenerated sidebars
2. **Follow content patterns** - Frontmatter, learning outcomes, clear structure
3. **Model AI philosophy** - Thoughtful usage, transparency, quality over quantity
4. **Maintain quality** - Review thoroughly, verify accuracy, test comprehensively
5. **Think pedagogically** - Content is for learning, not just information
6. **Be consistent** - Match existing style, voice, and patterns
7. **Document changes** - Clear commit messages, update relevant docs
8. **Test thoroughly** - Build, typecheck, visual inspection

**When in doubt, ask for clarification rather than making assumptions.**

